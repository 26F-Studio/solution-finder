============================================================
コマンド: spin (βバージョン)
============================================================

概要
============================================================

ある地形からTスピンできる置き方を探す


基本コマンド
============================================================

``java -jar sfinder.jar spin --tetfu v115@zgD8FeE8EeF8DeG8CeH8LeAgH --patterns *p7``

オプション一覧
============================================================

======== ====================== ======================
short    long                   default
======== ====================== ======================
``-H``   ``--hold``             use
``-t``   ``--tetfu``            なし
``-P``   ``--page``             1
``-p``   ``--patterns``         なし
``-fb``   ``--fill-bottom``     0
``-ft``   ``--fill-top``        4
``-m``   ``--margin-height``    -1
``-c``   ``--line``             2
``-o``   ``--output-base``      output/path.txt
``-fp``  ``--field-path``       input/field.txt
``-pp``  ``--patterns-path``    input/patterns.txt
``-lp``  ``--log-path``         output/last_output.txt
======== ====================== ======================


探索TIPS
============================================================

このコマンドは、設定値次第では探索にかなり時間がかかる可能性があります。
そこで設定値を、以下の大まかな傾向をもとに調整していただくことをオススメします。


埋めたいライン（`-fb` と `-ft` の間）に、ブロックのない空間が含まれすぎないようにする
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ブロックがほとんど置かれていないラインを探索範囲に含めると、ミノの置きかたの選択肢が増えるため、実行時間も増えていきます。
実際に探索範囲を大きくしても、範囲に比例して実用性のない置き方の解も増えていくため、ほとんどのケースでメリットが少ないと思われます。
そのため、ある程度予測して、埋めたいラインを選択すると良いと思います。


マージンの高さ（`-m` の値）を高すぎないようにする
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Tスピンをつくるには屋根が必要になるため、Tより上にブロックを置かないといけないケースが存在します。
そのため、探索範囲の上の方（`-ft` 付近）にTミノを置く場合、その屋根をつけるためのスペースをマージンの高さで指定します。

しかし、Tスピン用の屋根をつけるとTミノが入らなくなる可能性があるため、さらに回転入れ用の屋根が必要になることもあります。
この回転入れ用の屋根をみつけるのは難しく、マージンの高さに比例して実行時間が増えていきます。

デフォルトでは `-ftの値 + 2` になっていますが、この値を大きくする場合はご注意ください。



現バージョンでは未対応の機能（一部実装予定）
============================================================

* 地形を削らないとTスピンできないケース `サンプル <http://fumen.zui.jp/?v115@5gD8AeC8CeC8AeI8AeI8AeD8AeD8JeAgHvhBJEJlLJ>`_
* ミノを順列で指定できるようにする
  * 今後、指定されたミノ順で、実際に組むことができる解のみ表示させたいです。
  * Tミノ以外のミノに屋根が必要なケースは、順列指定でのみ対応させる予定です。 `その理由 <http://fumen.zui.jp/?v115@EhD8AeC8CeC8AeD8AeD8BeG8JeAglIhglCeywCeglD?ewwDehlQeAg0lAUYHDBQDxRA1dE6B0XHDBQpjRA1d0KB3XH?DBQeJSA1dkRBiAAAAqgAtHeBtHeAtweAg0DBMYHDBwFhRA1?w2KB1XHDBQUHSA1dkRBCYHDBQBFSA1d0KBGY3JBj+ESAVi+?AB5XHDBQOHSA1Ae3B1X/TBZ0mAAqgAPHeBPHeAPFeDAgWCA?SLCAgWDAQLDAhWGAJeAg0GAtjVRAz3AAAEhD8CeA8CeC8Ce?B8AeD8BeG8JeAg0qAlP52BxpDfEToXOBlP62A1vDfETY9KB?lvs2ACqDfET4d3Blvs2ACmAAAIhglRpAeywCeglRpBewwDe?hlQeAg0lAUYHDBQDxRA1dE6B0XHDBQpjRA1d0KB3XHDBQeJ?SA1dkRBiAAAA5fRpHeRpDfxSAeSLDexSBeQLWeAg0aBlvs2?AkJEfETIH+Blvs2A00btAls7fClvs2A2HEfET4xRBlvs2AU?GEfETY85AlP52BUDEfEWUDVBlvs2AWJEfEVpHIBl/PVB4pD?fET4JwBlvs2A1iAAAkfglIeglIeglQawSHexSCfgWRpGegW?RpGehWQeAg0OBlvs2AkJEfETIH+Blvs2A0kitAlszVClvs2?A2HEfET4xRBlvs2AUGEfETY85AlP52BUDEfEWUDVBlvs2A0?EEfEVpHIBl/PVB4ZAAAqgAtHeBtHeAtweAglvhBAg0mBlPB?BC5sDfET45ABlvs2AWxDfETY85AlP52BUDEfEWUDVBlvs2A?WJEfETYhBClvs2ADIEfEZk0KBlvs2A2HEfEVpM6AlPiOBmJ?EfETY12BlPJVByyDfETYN6Blvs2AUeAAAAg0mBlvs2AVGEf?ET4p9Blvs2AVJEfETYO6Alvs2AwpDfEX2NEBlPREBQ0DfET?ofzBlvs2A2yDfET4BBClPhzBGIEfEV5Z3Blvs2A1yDfET4J?wBlvs2AUuDfE032RBlPhzB5xAAA>`_


``-H``, ``--hold`` [default: use]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ホールドの有無を指定する。

ホールドなしで探索する場合は ``--hold avoid`` を指定する。


``-t``, ``--tetfu`` [default: なし]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

フィールドやオプションなどを指定したテト譜データを指定する。

テト譜で探索条件を指定する場合は ``--tetfu v115@vhAAgH`` のように指定する。

v115のテト譜データにのみ対応。


``-P``, ``--page`` [default: 1]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

テト譜でロードするページを指定する。

ページを変更したい場合は ``--page 31`` のように指定する。


``-p``, ``--patterns`` [default: なし]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

探索したいミノ順を指定する。

最大で22個のミノまで指定できる。

なお、renコマンドでは複数のミノを指定する記号（`*`, `[]`）は使用できません。

パターンを変更したい場合は ``--pattern IOSZLJTIO`` のように指定します。


``-fb``, ``--fill-bottom`` [default: 0]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

揃えるラインの範囲のうち、一番下のラインを指定する。
y座標は、一番下の段を `0` とする。

もし `2` を指定すると、y=2より上のラインを揃える組み合わせを探索する。
（3段目/y=2 は対象になる）

ここで指定する範囲には、Tスピンにならないライン消去（Tミノを含まないライン消去）も含まれる。


``-ft``, ``--fill-top`` [default: 4]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

揃えるラインの範囲の高さを指定する。
y座標は、一番下の段を `0` とする。

もし `4` を指定すると、y=4より下のラインを揃える組み合わせを探索する。
（5段目/y=4 は対象にならない）

ここで指定する範囲には、Tスピンにならないライン消去（Tミノを含まないライン消去）も含まれる。


``-m``, ``--margin-height`` [default: -1]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ミノを置ける範囲の高さを指定する。
`-1` が指定されたときは、自動的に `fill-top` + 2 が設定される。

もし `4` を指定すると、y=4より下にミノを置く組み合わせを探索する。
（5段目/y=4 にブロックを置かない）

この高さは、Tスピンに必要なブロックや回転入れするための屋根の探索に利用される。


``-c``, ``--line`` [default: 2]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Tスピン時に消すべき最小のライン数を指定する。

`2` を指定したとき、T-Spin Double/Triple を探索する。


``-o``, ``--output-base`` [default: output/ren.html]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

出力結果を保存するファイルのパスを指定する。


``-lp``, ``--log-path`` [default: output/last_output.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

実行時のログを保存するファイルのパスを指定する。


``-fp``, ``--field-path`` [default: input/field.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

フィールドを定義するファイルのパスを指定する。


``-pp``, ``--patterns-path`` [default: input/patterns.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

探索の組み合わせパターンを定義するファイルのパスを指定する。

