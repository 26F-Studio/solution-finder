============================================================
コマンド: path
============================================================

概要
============================================================

ある地形からパーフェクトまでの操作手順をすべて列挙する

- 指定したミノの組み合わせから、パーフェクトまでの全パターンを列挙してファイルに出力
- 次の2種類の結果を列挙して出力
    + ミノの接着場所が異なるパターンを列挙 (unique)
    + あるパフェパターンに対して、同じようなミノ順をカバーできるパターンが他にあるとき、片方をカットした手順を列挙 (minimal)
        - ※ 厳密なすべてのパターンを網羅する最小の組み合わせではありませんのでご注意下さい


出力フォーマット
============================================================

出力フォーマットは、以下の方式から選択できます。
変更したい場合は、オプションから変更できます。

* link: シンプルなHTML形式のテト譜リンク
* csv: csv形式（詳細は後述）


出力フォーマット: CSVの場合
============================================================

出力されるCSVファイルの1行につき、一連の操作手順を表現します。

例) ::

    J,R,3,3,L,L,2,3,O,0,7,0

このうち、4つごとに1つのミノを置く操作を表しています。そのため、この例では3つのミノを置く操作手順を表しています。

例) ::

    J,R,3,3

この例では「ミノJを右回転させた状態で回転軸が(x=3,y=3)にくるように接着させる」ことを表しています。

従って、この4つが表している操作は次のようになります。

* 1つめの要素 J: ミノの種類
    - TIJLSZOのどれか。

* 2つめの要素 R: 回転方向
    - 0: 出現時の回転方向
    - R: 右回転
    - L: 左回転
    - 2: 裏向き (右回転2回 or 左回転2回)

* 3つめの要素 3: 回転軸のx座標
    - 最も左の列を 0 としたときの列番号

* 4つめの要素 3: 回転軸のy座標
    - 最も下の行を 0 としたときの行番号

この4つの要素が1セットとして、必要な操作回数だけ右にセットが続きます。


オプション一覧
============================================================

======== ====================== ======================
short    long                   default
======== ====================== ======================
``-H``   ``--hold``             use
``-t``   ``--tetfu``            なし
``-P``   ``--page``             1
``-p``   ``--patterns``         なし
``-c``   ``--clear-line``       4
``-f``   ``--format``           link
``-s``   ``--split``            no
``-L``   ``--max-layer``        3
``-o``   ``--output-base``      output/path.txt
``-l``   ``--log-path``         output/last_output.txt
``-fp``  ``--field-path``       input/field.txt
``-pp``  ``--patterns-path``    input/patterns.txt
======== ====================== ======================


``-H``, ``--hold`` [default: use]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ホールドの有無を指定する。

ホールドなしで探索する場合は ``--hold avoid`` を指定する。


``-t``, ``--tetfu`` [default: なし]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

フィールドやオプションなどを指定したテト譜データを指定する。

テト譜で探索条件を指定する場合は ``--tetfu v115@vhAAgH`` のように指定する。

v115のテト譜データにのみ対応。


``-P``, ``--page`` [default: 1]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

テト譜からロードするページを指定する。

読み込むページを変更したい場合は ``--page 31`` のように指定する。


``-p``, ``--patterns`` [default: なし]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

探索ミノの組み合わせパターンを指定する。

パターンを変更したい場合は ``--pattern *p7`` のように指定する。

複数パターンを指定したい場合は ``;`` で連結する (``--pattern T,*;I,*``)


``-c``, ``--clear-line`` [default: 4]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

パフェまでに消去するライン数を指定する。


``-f``, ``--format`` [default: link]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

以下の出力フォーマットのうち、どれかを指定する。

* link: シンプルなHTML形式のテト譜リンク
* csv: csv形式


``-s``, ``--split`` [default: no]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

出力フォーマットがlinkのときに出力されるテト譜で、手順を1ミノずつ分割するか指定する。

* yes: 1ページにつき1ミノずつ表示される形で出力
* no: すべてのミノが1ページに納まった形で出力


``-L``, ``--max-layer`` [default: 2]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

手順の絞り込みをどこまで行うかを指定する。
次の数字を指定すると、対応するところまで絞り込みを行う。

* 1: unique
* 2: unique, minimal の両方


``-o``, ``--output-base`` [default: output/path.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

実行後に結果を出力するファイルのパスを指定する。
ただし、拡張子は出力形式によって変更される可能性があります。

実際は、このオプションで指定したファイル名 + suffix にあたるファイルとして出力されます。

出力されるファイルは以下の通りです。

* 指定したファイル名 + _unique に unique (重複をのぞいた手順) の結果が出力される。
* 指定したファイル名 + _minimal に minimal (同じミノ順をカバーするパターンをのぞいた手順) の結果が出力される。


``-l``, ``--log-path`` [default: output/last_output.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

実行時のログを保存するファイルのパスを指定する。



``-fp``, ``--field-path`` [default: input/field.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

フィールドを定義するファイルのパスを指定する。


``-pp``, ``--patterns-path`` [default: input/patterns.txt]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

探索の組み合わせパターンを定義するファイルのパスを指定する。
